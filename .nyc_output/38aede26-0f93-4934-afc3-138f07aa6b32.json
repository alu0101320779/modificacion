{"/home/usuario/modificacion-dsi-pr7/src/revista.ts":{"path":"/home/usuario/modificacion-dsi-pr7/src/revista.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":25}},"2":{"start":{"line":5,"column":0},"end":{"line":8,"column":58}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":78}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":68}},"5":{"start":{"line":15,"column":8},"end":{"line":15,"column":21}},"6":{"start":{"line":16,"column":8},"end":{"line":16,"column":25}},"7":{"start":{"line":17,"column":8},"end":{"line":17,"column":28}},"8":{"start":{"line":18,"column":8},"end":{"line":18,"column":56}},"9":{"start":{"line":22,"column":8},"end":{"line":22,"column":23}},"10":{"start":{"line":25,"column":8},"end":{"line":25,"column":25}},"11":{"start":{"line":28,"column":8},"end":{"line":28,"column":30}},"12":{"start":{"line":35,"column":8},"end":{"line":40,"column":9}},"13":{"start":{"line":36,"column":12},"end":{"line":36,"column":72}},"14":{"start":{"line":39,"column":12},"end":{"line":39,"column":42}},"15":{"start":{"line":47,"column":22},"end":{"line":47,"column":54}},"16":{"start":{"line":48,"column":8},"end":{"line":53,"column":9}},"17":{"start":{"line":49,"column":12},"end":{"line":49,"column":68}},"18":{"start":{"line":52,"column":12},"end":{"line":52,"column":44}},"19":{"start":{"line":59,"column":8},"end":{"line":59,"column":68}},"20":{"start":{"line":59,"column":45},"end":{"line":59,"column":66}},"21":{"start":{"line":65,"column":8},"end":{"line":65,"column":51}},"22":{"start":{"line":66,"column":8},"end":{"line":66,"column":22}},"23":{"start":{"line":69,"column":0},"end":{"line":69,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":1},"end":{"line":5,"column":2}},"loc":{"start":{"line":5,"column":34},"end":{"line":8,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":26},"end":{"line":19,"column":5}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":12},"end":{"line":23,"column":5}},"line":21},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":14},"end":{"line":26,"column":5}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":19},"end":{"line":29,"column":5}},"line":27},"5":{"name":"(anonymous_5)","decl":{"start":{"line":34,"column":4},"end":{"line":34,"column":5}},"loc":{"start":{"line":34,"column":24},"end":{"line":41,"column":5}},"line":34},"6":{"name":"(anonymous_6)","decl":{"start":{"line":46,"column":4},"end":{"line":46,"column":5}},"loc":{"start":{"line":46,"column":26},"end":{"line":54,"column":5}},"line":46},"7":{"name":"(anonymous_7)","decl":{"start":{"line":58,"column":4},"end":{"line":58,"column":5}},"loc":{"start":{"line":58,"column":13},"end":{"line":60,"column":5}},"line":58},"8":{"name":"(anonymous_8)","decl":{"start":{"line":59,"column":31},"end":{"line":59,"column":32}},"loc":{"start":{"line":59,"column":45},"end":{"line":59,"column":66}},"line":59},"9":{"name":"(anonymous_9)","decl":{"start":{"line":64,"column":4},"end":{"line":64,"column":5}},"loc":{"start":{"line":64,"column":17},"end":{"line":67,"column":5}},"line":64}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":3},"end":{"line":8,"column":56}},"type":"binary-expr","locations":[{"start":{"line":8,"column":3},"end":{"line":8,"column":24}},{"start":{"line":8,"column":29},"end":{"line":8,"column":55}}],"line":8},"1":{"loc":{"start":{"line":35,"column":8},"end":{"line":40,"column":9}},"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":40,"column":9}},{"start":{"line":35,"column":8},"end":{"line":40,"column":9}}],"line":35},"2":{"loc":{"start":{"line":48,"column":8},"end":{"line":53,"column":9}},"type":"if","locations":[{"start":{"line":48,"column":8},"end":{"line":53,"column":9}},{"start":{"line":48,"column":8},"end":{"line":53,"column":9}}],"line":48}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":3,"6":3,"7":3,"8":3,"9":2,"10":4,"11":6,"12":4,"13":1,"14":3,"15":1,"16":1,"17":0,"18":1,"19":1,"20":2,"21":1,"22":1,"23":1},"f":{"0":1,"1":3,"2":2,"3":4,"4":6,"5":4,"6":1,"7":1,"8":2,"9":1},"b":{"0":[1,1],"1":[1,3],"2":[0,1]},"inputSourceMap":{"version":3,"file":"/home/usuario/modificacion-dsi-pr7/src/revista.ts","sources":["/home/usuario/modificacion-dsi-pr7/src/revista.ts"],"names":[],"mappings":";;;AAGA,IAAK,qBAAyC;AAA9C,WAAK,qBAAqB;IAAE,yEAAU,CAAA;IAAE,+DAAK,CAAA;AAAA,CAAC,EAAzC,qBAAqB,KAArB,qBAAqB,QAAoB;AAAA,CAAC;AAC/C;;GAEG;AACH,MAAa,OAAO;IAKhB,YAAoB,EAAU,EAAU,IAAY;QAAhC,OAAE,GAAF,EAAE,CAAQ;QAAU,SAAI,GAAJ,IAAI,CAAQ;QAJ5C,cAAS,GAAe,EAAE,CAAC;QAE3B,cAAS,GAA0B,qBAAqB,CAAC,QAAQ,CAAC;IAG1E,CAAC;IACD,SAAS;IACT,KAAK;QACH,OAAO,IAAI,CAAC,EAAE,CAAC;IACjB,CAAC;IACD,OAAO;QACL,OAAO,IAAI,CAAC,IAAI,CAAC;IACnB,CAAC;IACD,YAAY;QACV,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IACD;;;OAGG;IACH,SAAS,CAAC,QAAkB;QAC1B,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;YACrC,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC,CAAC;SAC7D;aAAM;YACL,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC/B;IACH,CAAC;IACD;;;OAGG;IACH,WAAW,CAAC,QAAkB;QAC5B,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAC/C,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;YAChB,MAAM,IAAI,KAAK,CAAC,sCAAsC,CAAC,CAAC;SACzD;aAAM;YACL,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SACjC;IACH,CAAC;IACD;;OAEG;IACH,MAAM;QACJ,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;IAC9D,CAAC;IACD;;OAEG;IACH,UAAU;QACR,IAAI,CAAC,SAAS,GAAG,qBAAqB,CAAC,GAAG,CAAC;QAC3C,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;CAEF;AAtDH,0BAsDG","sourcesContent":["import {Observable} from '../src/index';\nimport {Observer} from '../src/index';\n\nenum NuevaRevistaEventType {'NO_EVENT', 'NEW'};\n/**\n * Clase revista implementa los métodos subscribe y unsubscribe\n */\nexport class Revista implements Observable {\n    private observers: Observer[] = [];\n  \n    private eventType: NuevaRevistaEventType = NuevaRevistaEventType.NO_EVENT;\n  \n    constructor(private id: number, private name: string) {\n    }\n    //Getters\n    getId() {\n      return this.id;\n    }\n    getName() {\n      return this.name;\n    }\n    getEventType() {\n      return this.eventType;\n    }\n    /**\n     * Método que devuelve si está suscrito\n     * @param observer Observer que comprueba la suscripción del usuario\n     */\n    subscribe(observer: Observer) {\n      if (this.observers.includes(observer)) {\n        throw new Error('The observer had already been subscribed');\n      } else {\n        this.observers.push(observer);\n      }\n    }\n    /**\n     * Método que desuscribe\n     * @param observer Observer que comprueba la suscripción del usuario\n     */\n    unsubscribe(observer: Observer) {\n      const index = this.observers.indexOf(observer);\n      if (index === -1) {\n        throw new Error('The observer has not been subscribed');\n      } else {\n        this.observers.splice(index, 1);\n      }\n    }\n    /**\n     * Método que notifica al usuario\n     */\n    notify() {\n      this.observers.forEach((observer) => observer.update(this));\n    }\n    /**\n     * Método que crea una nueva revista\n     */\n    newRevista() {\n      this.eventType = NuevaRevistaEventType.NEW;\n      this.notify();\n    }\n    \n  }"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"55bb26481581e97bb710bff5d925fec06bd76d5f","contentHash":"8ac7746b815b7e87a0f0806b50fc7552c5327f5731c366625cadb65387decee3"},"/home/usuario/modificacion-dsi-pr7/src/suscriptor.ts":{"path":"/home/usuario/modificacion-dsi-pr7/src/suscriptor.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":28}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":43}},"3":{"start":{"line":6,"column":0},"end":{"line":9,"column":58}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":78}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":68}},"6":{"start":{"line":16,"column":8},"end":{"line":16,"column":21}},"7":{"start":{"line":17,"column":8},"end":{"line":17,"column":25}},"8":{"start":{"line":21,"column":8},"end":{"line":21,"column":23}},"9":{"start":{"line":24,"column":8},"end":{"line":24,"column":25}},"10":{"start":{"line":31,"column":8},"end":{"line":39,"column":9}},"11":{"start":{"line":32,"column":12},"end":{"line":38,"column":13}},"12":{"start":{"line":34,"column":20},"end":{"line":36,"column":46}},"13":{"start":{"line":37,"column":20},"end":{"line":37,"column":26}},"14":{"start":{"line":40,"column":8},"end":{"line":40,"column":25}},"15":{"start":{"line":43,"column":0},"end":{"line":43,"column":32}},"16":{"start":{"line":44,"column":18},"end":{"line":44,"column":55}},"17":{"start":{"line":45,"column":29},"end":{"line":45,"column":70}},"18":{"start":{"line":46,"column":30},"end":{"line":46,"column":72}},"19":{"start":{"line":47,"column":0},"end":{"line":47,"column":49}},"20":{"start":{"line":48,"column":0},"end":{"line":48,"column":42}},"21":{"start":{"line":49,"column":0},"end":{"line":49,"column":50}},"22":{"start":{"line":50,"column":0},"end":{"line":50,"column":43}},"23":{"start":{"line":51,"column":0},"end":{"line":56,"column":1}},"24":{"start":{"line":52,"column":4},"end":{"line":52,"column":47}},"25":{"start":{"line":55,"column":4},"end":{"line":55,"column":64}},"26":{"start":{"line":57,"column":0},"end":{"line":57,"column":29}},"27":{"start":{"line":58,"column":0},"end":{"line":58,"column":23}},"28":{"start":{"line":59,"column":0},"end":{"line":59,"column":51}},"29":{"start":{"line":60,"column":0},"end":{"line":60,"column":44}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":1},"end":{"line":6,"column":2}},"loc":{"start":{"line":6,"column":34},"end":{"line":9,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":26},"end":{"line":18,"column":5}},"line":15},"2":{"name":"(anonymous_2)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":12},"end":{"line":22,"column":5}},"line":20},"3":{"name":"(anonymous_3)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":14},"end":{"line":25,"column":5}},"line":23},"4":{"name":"(anonymous_4)","decl":{"start":{"line":30,"column":4},"end":{"line":30,"column":5}},"loc":{"start":{"line":30,"column":23},"end":{"line":41,"column":5}},"line":30}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":3},"end":{"line":9,"column":56}},"type":"binary-expr","locations":[{"start":{"line":9,"column":3},"end":{"line":9,"column":24}},{"start":{"line":9,"column":29},"end":{"line":9,"column":55}}],"line":9},"1":{"loc":{"start":{"line":31,"column":8},"end":{"line":39,"column":9}},"type":"if","locations":[{"start":{"line":31,"column":8},"end":{"line":39,"column":9}},{"start":{"line":31,"column":8},"end":{"line":39,"column":9}}],"line":31},"2":{"loc":{"start":{"line":32,"column":12},"end":{"line":38,"column":13}},"type":"switch","locations":[{"start":{"line":33,"column":16},"end":{"line":37,"column":26}}],"line":32}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":4,"7":4,"8":2,"9":2,"10":4,"11":4,"12":2,"13":0,"14":2,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1},"f":{"0":1,"1":4,"2":2,"3":2,"4":4},"b":{"0":[1,1],"1":[4,0],"2":[2]},"inputSourceMap":{"version":3,"file":"/home/usuario/modificacion-dsi-pr7/src/suscriptor.ts","sources":["/home/usuario/modificacion-dsi-pr7/src/suscriptor.ts"],"names":[],"mappings":";;;AAAA,4CAAuC;AAIvC,IAAK,qBAAyC;AAA9C,WAAK,qBAAqB;IAAE,yEAAU,CAAA;IAAE,+DAAK,CAAA;AAAA,CAAC,EAAzC,qBAAqB,KAArB,qBAAqB,QAAoB;AAAA,CAAC;AAC/C;;GAEG;AACH,MAAa,UAAU;IACnB,YAAoB,EAAU,EAAU,IAAY;QAAhC,OAAE,GAAF,EAAE,CAAQ;QAAU,SAAI,GAAJ,IAAI,CAAQ;IACpD,CAAC;IACD,SAAS;IACT,KAAK;QACH,OAAO,IAAI,CAAC,EAAE,CAAC;IACjB,CAAC;IACD,OAAO;QACL,OAAO,IAAI,CAAC,IAAI,CAAC;IACnB,CAAC;IACD;;;OAGG;IACH,MAAM,CAAC,UAAsB;QAC3B,IAAI,UAAU,YAAY,iBAAO,EAAE;YACjC,QAAO,UAAU,CAAC,YAAY,EAAE,EAAE;gBAChC,KAAK,qBAAqB,CAAC,GAAG;oBAC5B,OAAO,iCAAiC,IAAI,CAAC,IAAI,GAAG;wBACxC,oCAAoC,UAAU,CAAC,OAAO,EAAE,GAAG;wBAC3D,qBAAqB,CAAC;oBAClC,MAAM;aACT;SACF;QACD,OAAO,SAAS,CAAA;IAClB,CAAC;CACF;AA1BH,gCA0BG;AAED,MAAM,SAAS,GAAG,IAAI,iBAAO,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC;AAC9C,MAAM,oBAAoB,GAAG,IAAI,UAAU,CAAC,CAAC,EAAE,sBAAsB,CAAC,CAAC;AACvE,MAAM,qBAAqB,GAAG,IAAI,UAAU,CAAC,CAAC,EAAE,uBAAuB,CAAC,CAAC;AAEzE,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;AACjD,SAAS,CAAC,SAAS,CAAC,oBAAoB,CAAC,CAAC;AAE1C,OAAO,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;AAClD,SAAS,CAAC,SAAS,CAAC,qBAAqB,CAAC,CAAC;AAE3C,IAAI;IACF,SAAS,CAAC,SAAS,CAAC,qBAAqB,CAAC,CAAC;CAC5C;AAAC,OAAO,KAAK,EAAE;IACd,OAAO,CAAC,GAAG,CAAC,8CAA8C,CAAC,CAAC;CAC7D;AAED,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;AAC7B,SAAS,CAAC,UAAU,EAAE,CAAC;AAEvB,OAAO,CAAC,GAAG,CAAC,qCAAqC,CAAC,CAAC;AACnD,SAAS,CAAC,WAAW,CAAC,oBAAoB,CAAC,CAAC","sourcesContent":["import {Revista} from '../src/revista';\nimport {Observer} from '../src/index';\nimport {Observable} from '../src/index';\n\nenum NuevaRevistaEventType {'NO_EVENT', 'NEW'};\n/**\n * Clase suscriptor se implementan el método update\n */\nexport class Suscriptor implements Observer {\n    constructor(private id: number, private name: string) {\n    }\n    //Getters\n    getId() {\n      return this.id;\n    }\n    getName() {\n      return this.name;\n    }\n    /**\n     * Actualiza información\n     * @param observable Observable de EventType\n     */\n    update(observable: Observable): string | undefined {\n      if (observable instanceof Revista) {\n        switch(observable.getEventType()) {\n          case NuevaRevistaEventType.NEW:\n            return `I am a RevistaObserver called ${this.name} ` +\n                        `and I have observed that Revista ${observable.getName()} ` +\n                        `new Revista arrived`;\n            break;\n        }\n      }\n      return undefined\n    }\n  }\n\n  const myRevista = new Revista(0, 'myRevista');\n  const firstRevistaObserver = new Suscriptor(0, 'firstRevistaObserver');\n  const secondRevistaObserver = new Suscriptor(1, 'secondRevistaObserver');\n  \n  console.log('firstRevistaObserver subscription');\n  myRevista.subscribe(firstRevistaObserver);\n  \n  console.log('secondRevistaObserver subscription');\n  myRevista.subscribe(secondRevistaObserver);\n  \n  try {\n    myRevista.subscribe(secondRevistaObserver);\n  } catch (error) {\n    console.log('secondRevistaObserver was already subscribed');\n  }\n  \n  console.log('myRevista new');\n  myRevista.newRevista();\n  \n  console.log('firstRevistaObserver unsubscription');\n  myRevista.unsubscribe(firstRevistaObserver);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f999701f3c1b5872c48c094cebf690f6e34f5d31","contentHash":"0554e754f8137a9c1aa315befdf1638a4d5dd574e8d2a650c09575cd3533b2e9"}}